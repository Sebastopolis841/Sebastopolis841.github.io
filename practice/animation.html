<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Canvas - with functions!</title>
        <style>
            canvas {
                border: 1px solid black;
            }
        </style>
    </head>
    <body>
        <h1>Canvas - with functions!</h1>

        <canvas id="canvas" width=1000 height=1000>
        </canvas>
        
        <script>
            //MAGIC
            const canvas = document.getElementById("canvas");
            const ctx = canvas.getContext("2d");
            
            //functions
            function animate() {
                y = y * 1.00001;
                x = x + 1 * y;

                if (inv == false) {
                    posX = posX + x;
                } else {
                    posX = posX - x;
                }
                

                if (posX >= 1000) {
                    posX = 0;
                    posY = posY + 10;
                } else if (posX <= 0) {
                    posX = 900;
                    posY = posY - 10;
                }

                if (posY >= 1000) {
                    inv = true;
                    posY = 900;
                    posX = 9000;
                } else if (posY <= 0) {
                    inv = false;
                    posY = 0;
                    posX = 0;
                }

                ctx.clearRect(0,0,1000,1000);
                ctx.fillRect(posX,posY,100,100);

                requestAnimationFrame(animate);
            }
            //body
            let x = 1;
            let y = 1;
            let posX = 0;
            let posY = 0;
            let inv = false;

            ctx.fillStyle = "green";

            animate();
            
        </script>
    </body>
</html>